{"version":3,"sources":["../../src/ng-modal.component.ts"],"names":[],"mappings":"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","file":"ng-modal.component.js","sourceRoot":"","sourcesContent":["import {Component, Input, Output, EventEmitter, ElementRef, ViewChild} from \"@angular/core\";\r\n\r\n\r\nexport class ModalHeader {\r\n\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n    selector: \"modal-header\",\r\n    template: `<ng-content></ng-content>`\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\r\n\r\n\r\nexport class ModalContent {\r\n\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n    selector: \"modal-content\",\r\n    template: `<ng-content></ng-content>`\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\r\n\r\n\r\nexport class ModalFooter {\r\n\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n    selector: \"modal-footer\",\r\n    template: `<ng-content></ng-content>`\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\r\n\r\n\r\nexport class Modal {\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Inputs\r\n    // -------------------------------------------------------------------------\r\n\r\n    \r\n    public modalClass: string;\r\n\r\n    \r\n    public closeOnEscape: boolean = true;\r\n\r\n    \r\n    public closeOnOutsideClick: boolean = true;\r\n\r\n    \r\n    public title: string;\r\n\r\n    \r\n    public hideCloseButton = false;\r\n\r\n    \r\n    public cancelButtonLabel: string;\r\n\r\n    \r\n    public submitButtonLabel: string;\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Outputs\r\n    // -------------------------------------------------------------------------\r\n\r\n    \r\n    public onOpen = new EventEmitter(false);\r\n\r\n    \r\n    public onClose = new EventEmitter(false);\r\n\r\n    \r\n    public onSubmit = new EventEmitter(false);\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Public properties\r\n    // -------------------------------------------------------------------------\r\n\r\n    public isOpened = false;\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Private properties\r\n    // -------------------------------------------------------------------------\r\n\r\n    \r\n    public modalRoot: ElementRef;\r\n\r\n    private backdropElement: HTMLElement;\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Constructor\r\n    // -------------------------------------------------------------------------\r\n\r\n    constructor() {\r\n        this.createBackDrop();\r\n    }\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Lifecycle Methods\r\n    // -------------------------------------------------------------------------\r\n\r\n    ngOnDestroy() {\r\n        document.body.className = document.body.className.replace(/modal-open\\b/, \"\");\r\n        if (this.backdropElement && this.backdropElement.parentNode === document.body)\r\n            document.body.removeChild(this.backdropElement);\r\n    }\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Public Methods\r\n    // -------------------------------------------------------------------------\r\n\r\n    open(...args: any[]) {\r\n        if (this.isOpened) return;\r\n        \r\n        this.isOpened = true;\r\n        document.body.appendChild(this.backdropElement);\r\n\r\n        window.setTimeout(() => {\r\n            this.modalRoot.nativeElement.focus();\r\n            this.onOpen.emit(args);\r\n        }, 0);\r\n\r\n        document.body.className += \" modal-open\";\r\n    }\r\n\r\n    close(...args: any[]) {\r\n        if (!this.isOpened)\r\n            return;\r\n\r\n        document.body.removeChild(this.backdropElement);\r\n        document.body.className = document.body.className.replace(/modal-open\\b/, \"\");\r\n\r\n        this.isOpened = false;\r\n        this.onClose.emit(args);\r\n    }\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Private Methods\r\n    // -------------------------------------------------------------------------\r\n\r\n    public preventClosing(event: MouseEvent) {\r\n        event.stopPropagation();\r\n    }\r\n\r\n    private createBackDrop() {\r\n        this.backdropElement = document.createElement(\"div\");\r\n        this.backdropElement.classList.add(\"modal-backdrop\");\r\n        this.backdropElement.classList.add(\"fade\");\r\n        this.backdropElement.classList.add(\"in\");\r\n    }\r\n\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n    selector: \"modal\",\r\n    template: `\r\n<div class=\"modal\" \r\n     tabindex=\"-1\"\r\n     role=\"dialog\"\r\n     #modalRoot\r\n     (keydown.esc)=\"closeOnEscape ? close() : 0\"\r\n     [ngClass]=\"{ in: isOpened, fade: isOpened }\"\r\n     [ngStyle]=\"{ display: isOpened ? 'block' : 'none' }\"\r\n     (click)=\"closeOnOutsideClick ? close() : 0\">\r\n    <div [class]=\"'modal-dialog ' + modalClass\" (click)=\"preventClosing($event)\">\r\n        <div class=\"modal-content\" tabindex=\"0\" *ngIf=\"isOpened\">\r\n            <div class=\"modal-header\">\r\n                <button *ngIf=\"!hideCloseButton\" type=\"button\" class=\"close\" data-dismiss=\"modal\" [attr.aria-label]=\"cancelButtonLabel || 'Close'\" (click)=\"close()\"><span aria-hidden=\"true\">&times;</span></button>\r\n                <h4 class=\"modal-title\" *ngIf=\"title\">{{ title }}</h4>\r\n                <ng-content select=\"modal-header\"></ng-content>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <ng-content select=\"modal-content\"></ng-content>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <ng-content select=\"modal-footer\"></ng-content>\r\n                <button *ngIf=\"cancelButtonLabel\" type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" (click)=\"close()\">{{ cancelButtonLabel }}</button>\r\n                <button *ngIf=\"submitButtonLabel\" type=\"button\" class=\"btn btn-primary\" (click)=\"onSubmit.emit(undefined)\">{{ submitButtonLabel }}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n`\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'modalClass': [{ type: Input },],\n'closeOnEscape': [{ type: Input },],\n'closeOnOutsideClick': [{ type: Input },],\n'title': [{ type: Input },],\n'hideCloseButton': [{ type: Input },],\n'cancelButtonLabel': [{ type: Input },],\n'submitButtonLabel': [{ type: Input },],\n'onOpen': [{ type: Output },],\n'onClose': [{ type: Output },],\n'onSubmit': [{ type: Output },],\n'modalRoot': [{ type: ViewChild, args: [\"modalRoot\", ] },],\n};\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}